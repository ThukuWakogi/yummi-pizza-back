(this["webpackJsonpyummi-pizza-front"]=this["webpackJsonpyummi-pizza-front"]||[]).push([[0],{116:function(e,t,a){e.exports=a(146)},121:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),c=a.n(i),o=(a(121),a(3)),l=a(179),s=a(205),u=a(33),m=a(43),d=a(37),p=a(204),g=a(182),h=a(184),b=a(66),f=a(187),O=a(185),E=a(186),j=a(188),v=a(96),y=a.n(v),C=a(54),z=a(5),A=a(29),x=a(30),w=a(34),D=a(32),S=a(23),k=a.n(S),T="https://young-peak-99674.herokuapp.com/api",I=function(e){Array.isArray(e)&&e.forEach((function(e){return e()}))},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;return e.forEach((function(e){t+=e.pizza.price*e.pizza_quantity})),t},N=Object(n.createContext)(null),P=function(e){Object(w.a)(a,e);var t=Object(D.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={initialUserLoad:!1,isAuthenticated:!1,authenticatedUser:null,authErrors:null,loggingIn:!1,registering:!1,authDialogOpen:!1,authAction:null,postAuthAction:[]},e.login=function(t,a,n){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{loggingIn:!0})),k.a.post("".concat(T,"/login"),{email:t,password:a},{headers:{Accept:"application/json"}}).then((function(t){localStorage.setItem("ympz_token",t.data.access_token),e.setState(Object(z.a)(Object(z.a)({},e.state),{},{isAuthenticated:!0,loggingIn:!1,authenticatedUser:t.data.user})),I([].concat(Object(C.a)(n),Object(C.a)(e.state.postAuthAction))),e.setState(Object(z.a)(Object(z.a)({},e.state),{},{postAuthAction:[]}))})).catch((function(t){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{authErrors:t.response,loggingIn:!1}))}))},e.register=function(t,a,n,r){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{registering:!0})),k.a.post("".concat(T,"/register"),{name:t,email:a,password:n},{headers:{Accept:"application/json"}}).then((function(t){localStorage.setItem("ympz_token",t.data.access_token),e.setState(Object(z.a)(Object(z.a)({},e.state),{},{isAuthenticated:!0,registering:!1,authenticatedUser:t.data.user})),I(r),e.fetchAuthenticatedUser()})).catch((function(t){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{authErrors:t.response,registering:!1}))}))},e.fetchAuthenticatedUser=function(){k.a.get("".concat(T,"/udft"),{headers:{Authorization:"bearer ".concat(localStorage.getItem("ympz_token")),Accept:"application/json"}}).then((function(t){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{authenticatedUser:t.data,isAuthenticated:!0,initialUserLoad:!0}))})).catch((function(t){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{initialUserLoad:!0})),401===t.response.status&&e.setState(Object(z.a)(Object(z.a)({},e.state),{},{authenticatedUser:null,isAuthenticated:!1,initialUserLoad:!0}))}))},e.logout=function(){localStorage.clear(),e.setState(Object(z.a)(Object(z.a)({},e.state),{},{authenticatedUser:null,isAuthenticated:!1,authErrors:null}))},e.setErrors=function(t,a){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{authErrors:t})),I(a)},e.handleAuthDialogOpen=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.setState(Object(z.a)(Object(z.a)({},e.state),{},{authDialogOpen:!0,authAction:t||e.state.authAction,postAuthAction:[].concat(Object(C.a)(e.state.postAuthAction),Object(C.a)(a))}))},e.handleAuthDialogToggle=function(){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{authDialogOpen:!(!e.state.loggingIn&&!e.state.registering)||!e.state.authDialogOpen,authErrors:null}))},e.handleAuthDialogAction=function(t,a,n){t.preventDefault(),e.setState(Object(z.a)(Object(z.a)({},e.state),{},{authAction:a,authErrors:null})),e.handleCallbacks(n)},e.handleCallbacks=function(e){Array.isArray(e)&&e.forEach((function(e){return e()}))},e.updateOrderDetails=function(t,a){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{authenticatedUser:Object(z.a)(Object(z.a)({},e.state.authenticatedUser),{},{pendingOrder:t,shoppingCart:a})}))},e}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement(N.Provider,{value:Object(z.a)(Object(z.a)({},this.state),{},{login:this.login,fetchAuthenticatedUser:this.fetchAuthenticatedUser,setErrors:this.setErrors,logout:this.logout,register:this.register,handleAuthDialogOpen:this.handleAuthDialogOpen,handleAuthDialogToggle:this.handleAuthDialogToggle,handleAuthDialogAction:this.handleAuthDialogAction,updateOrderDetails:this.updateOrderDetails})},this.props.children)}}]),a}(n.Component),q=Object(l.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"white",textDecoration:"none"}}}));function U(e){var t=e.shoppingCartDialogToggle,a=q(),i=Object(n.useContext)(N),c=i.isAuthenticated,o=i.initialUserLoad,l=i.logout,s=i.handleAuthDialogOpen,u=i.authenticatedUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.root},r.a.createElement(g.a,{position:"static"},r.a.createElement(h.a,null,r.a.createElement(b.a,{variant:"h6",className:a.title,component:m.b,to:"/"},"Yummi Pizza"),o?c?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{onClick:t},r.a.createElement(E.a,{badgeContent:u?u.shoppingCart.length:0,color:"secondary"},r.a.createElement(y.a,{style:{color:"#ffffff"}}))),r.a.createElement(f.a,{color:"inherit",onClick:l},"logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{color:"inherit",onClick:function(){return s("login")}},"Login"),r.a.createElement(f.a,{color:"inherit",onClick:function(){return s("register")}},"Register")):r.a.createElement(j.a,{color:"secondary",size:25})))))}var _=a(38),W=a.n(_),L=a(52),B=a(201),$=a(189),R=a(190),H=a(191),Y=a(192),G=a(193),J=a(31),V=a.n(J),M=Object(n.createContext)(null),K=function(e){Object(w.a)(a,e);var t=Object(D.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={addToCartDialogOpen:!1,addingShoppingCartItem:!1},e.getShoppingCart=function(){console.log("getting shopping cart")},e.setItemToShoppingCart=function(){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{addToCartDialogOpen:!0}))},e.postItem=function(t,a,n,r){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{addingShoppingCartItem:!0})),k.a.post("".concat(T,"/shopping-cart-item"),{pizza_id:t,pizza_quantity:a},{headers:{Authorization:"bearer ".concat(localStorage.getItem("ympz_token")),Accept:"application/json"}}).then((function(t){console.log({res:t}),n(t.data.pendingOrder,t.data.shoppingCart),I(r),e.setState(Object(z.a)(Object(z.a)({},e.state),{},{addingShoppingCartItem:!1,addToCartDialogOpen:!1}))})).catch((function(t){console.log({err:t}),e.setState(Object(z.a)(Object(z.a)({},e.state),{},{addingShoppingCartItem:!1}))}))},e.handleAddToCartDialogToggle=function(){e.setState(Object(z.a)(Object(z.a)({},e.state),{},{addToCartDialogOpen:!!e.state.addingShoppingCartItem||!e.state.addToCartDialogOpen})),console.log(e.state)},e}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement(M.Provider,{value:Object(z.a)(Object(z.a)({},this.state),{},{getShoppingCart:this.getShoppingCart,setItemToShoppingCart:this.setItemToShoppingCart,handleAddToCartDialogToggle:this.handleAddToCartDialogToggle,postItem:this.postItem})},this.props.children)}}]),a}(n.Component),Q=Object(l.a)({root:{height:"100%",display:"flex",flexDirection:"column"},media:{height:140},cardActionArea:{marginBottom:"auto"}}),X=function(e){var t=e.pizza,a=e.handlePizzaSelection,i=Q(),c=Object(n.useContext)(N),o=c.isAuthenticated,l=c.handleAuthDialogOpen,s=Object(n.useContext)(M).setItemToShoppingCart;return r.a.createElement($.a,{className:i.root},r.a.createElement(R.a,{className:i.cardActionArea},r.a.createElement(H.a,{className:i.media,image:V.a,title:"Contemplative Reptile"}),r.a.createElement(Y.a,null,r.a.createElement(b.a,{gutterBottom:!0,variant:"h5"},t.name),r.a.createElement(b.a,{variant:"body1",color:"textSecondary",component:"p",gutterBottom:!0},t.description),r.a.createElement(b.a,{variant:"body2",color:"textSecondary",component:"p"},"$",t.price," / \xa3",(.91*t.price).toFixed(2)))),r.a.createElement(G.a,null,r.a.createElement(f.a,{size:"small",color:"primary",onClick:function(){a(t),o?s():l("login",[s])}},"Add to Cart")))},Z=Object(n.createContext)(null),ee=function(e){Object(w.a)(a,e);var t=Object(D.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getPizzas=Object(L.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,k.a.get("".concat(T,"/pizza"),{headers:{Accept:"application/json"}}).then(function(){var e=Object(L.a)(W.a.mark((function e(a){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.data;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),e}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement(Z.Provider,{value:{getPizzas:this.getPizzas}},this.props.children)}}]),a}(n.Component),te=Object(l.a)((function(e){return{progressDiv:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},progressPlacement:{transform:"translate(0px, -100px)",textAlign:"center"},h4:{marginTop:e.spacing(2)}}})),ae=function(e){var t=e.message,a=te();return r.a.createElement("div",{className:a.progressDiv},r.a.createElement("div",{className:a.progressPlacement},r.a.createElement(j.a,{size:54}),r.a.createElement(b.a,{variant:"h4",className:a.h4},t||"loading","...")))},ne=a(44),re=a(208),ie=a(195),ce=a(194),oe=a(196),le=a(199),se=a(206),ue=a(200),me=Object(l.a)((function(e){return{img:{height:265,width:400,objectFit:"cover"},dialogContentText:{margin:0}}})),de=function(e){var t=e.pizza,a=e.open,i=e.handleToggle,c=me(),o=Object(n.useState)({quantity:1}),l=Object(u.a)(o,2),s=l[0],m=l[1],d=Object(n.useContext)(M),p=d.postItem,g=d.addingShoppingCartItem,h=Object(n.useContext)(N).updateOrderDetails;return r.a.createElement(re.a,{open:a,onClose:i},r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),p(t.id,s.quantity,h)}},r.a.createElement(ce.a,null,t.name),r.a.createElement(ie.a,null,r.a.createElement(oe.a,{className:c.dialogContentText},"$",t.price," / \xa3",(.91*t.price).toFixed(2))),r.a.createElement("img",{src:V.a,alt:t.name,className:c.img}),r.a.createElement(ie.a,null,r.a.createElement("div",null,r.a.createElement(se.a,{margin:"dense",name:"quantity",label:"quantity",type:"number",fullWidth:!0,required:!0,value:s.quantity,disabled:g,helperText:"Amounting to: $".concat((t.price*(s.quantity?s.quantity:0)).toFixed(2)," / \xa3").concat((.91*t.price*(s.quantity?s.quantity:0)).toFixed(2)),onChange:function(e){m(Object(z.a)(Object(z.a)({},s),{},Object(ne.a)({},e.target.name,e.target.value)))}}))),r.a.createElement(le.a,null,r.a.createElement(f.a,{onClick:i,color:"primary",disabled:g},"Cancel"),r.a.createElement(f.a,{variant:"contained",color:"primary",type:"submit",disabled:g},"Add"))),g?r.a.createElement(ue.a,null):null)},pe=function(){var e=Object(n.useState)({pizzas:null,addToCartDialogOpen:!1,selectedPizza:{}}),t=Object(u.a)(e,2),a=t[0],i=t[1],c=Object(n.useContext)(N).authenticatedUser,o=Object(n.useContext)(Z).getPizzas,l=Object(n.useContext)(M),s=l.addToCartDialogOpen,m=l.handleAddToCartDialogToggle;Object(n.useEffect)((function(){function e(){return(e=Object(L.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.t1=z.a,e.t2=Object(z.a)({},a),e.t3={},e.next=6,o();case 6:e.t4=e.sent,e.t5={pizzas:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),(0,e.t0)(e.t6);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.title="Yummi Pizza - Pizzas!",function(){e.apply(this,arguments)}()}),[]);var d=function(e){i(Object(z.a)(Object(z.a)({},a),{},{selectedPizza:e}))};return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(b.a,{variant:"body1"},c.name):null,a.pizzas?r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{container:!0,direction:"row",justify:"center",spacing:2,alignItems:"stretch"},a.pizzas.map((function(e){return r.a.createElement(B.a,{key:e.id,xs:12,sm:4,md:3,item:!0},r.a.createElement(X,{pizza:e,handlePizzaSelection:d}))}))),r.a.createElement(de,{open:s,handleToggle:m,pizza:a.selectedPizza})):r.a.createElement(ae,{message:"getting pizzas"}))},ge=Object(n.createContext)(null),he=function(e){Object(w.a)(a,e);var t=Object(D.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={checkingOut:!1},e.checkout=function(t,a){console.log({orderId:t}),e.setState({checkingOut:!0}),k.a.put("".concat(T,"/order/").concat(t),{checked_out:1},{headers:{Authorization:"bearer ".concat(localStorage.getItem("ympz_token")),Accept:"application/json"}}).then((function(t){e.setState({checkingOut:!1}),I(a)})).catch((function(t){e.setState({checkingOut:!1})}))},e}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement(ge.Provider,{value:Object(z.a)(Object(z.a)({},this.state),{},{checkout:this.checkout})},this.props.children)}}]),a}(n.Component),be=Object(l.a)((function(e){return{maxWidthHeight:{width:"100%",height:"100%"},maxWidth:{width:"100%"},loginDiv:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","& > div":{display:"flex",flexDirection:"column",justifyContent:"center","& > button":{margin:"16px auto"}}},card:{display:"flex"},image:{width:150,height:150,objectFit:"cover"},totalPrice:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",marginBottom:e.spacing(1),"& > h6":{marginRight:e.spacing(2)}},actions:{margin:e.spacing(1,0),display:"flex",justifyContent:"flex-end",alignItems:"center","& > button":{marginLeft:e.spacing(1)}}}})),fe=function(){var e=Object(n.useContext)(N),t=e.authenticatedUser,a=e.isAuthenticated,i=e.initialUserLoad,c=e.handleAuthDialogOpen,l=e.updateOrderDetails,s=Object(n.useContext)(ge),u=s.checkout,m=s.checkingOut,p=be(),g=Object(d.f)();Object(n.useEffect)((function(){i&&!a&&c("login")}),[i,a,c]);var h=t?F(t.shoppingCart):0;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,t?r.a.createElement(b.a,{variant:"body1"},t.name):null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:p.totalPrice},r.a.createElement(b.a,{variant:"subtitle1"},"Total Price:"),r.a.createElement(b.a,{variant:"h6"},"$".concat(h.toFixed(2)," / \xa3").concat((.91*h).toFixed(2)))),r.a.createElement(B.a,{container:!0,spacing:2,className:p.maxWidth},t.shoppingCart.map((function(e){return r.a.createElement(B.a,{item:!0,xs:12,sm:6,key:e.id},r.a.createElement($.a,{className:p.card},r.a.createElement(H.a,{className:p.image,image:V.a}),r.a.createElement(Y.a,null,r.a.createElement(b.a,{variant:"subtitle1"},e.pizza.name),r.a.createElement(b.a,{variant:"subtitle1"},"quantity: ".concat(e.pizza_quantity)),r.a.createElement(b.a,{variant:"subtitle1"},"$".concat((e.pizza.price*e.pizza_quantity).toFixed(2)," / \xa3").concat((.91*e.pizza.price*e.pizza_quantity).toFixed(2))))))}))),r.a.createElement("div",{className:Object(o.a)(p.maxWidth,p.actions)},m?r.a.createElement(j.a,{size:30}):null,r.a.createElement(f.a,{variant:"contained",color:"primary",to:"/order",onClick:function(){u(t.pendingOrder[0].id,[function(){return l([],[])},function(){return g.push("/")}])},disabled:m},"Check Out")))):r.a.createElement("div",{className:Object(o.a)(p.maxWidthHeight,p.loginDiv)},r.a.createElement("div",null,r.a.createElement(b.a,{variant:"h4"},"login to view your cart"),r.a.createElement(f.a,{variant:"outlined",onClick:function(){return c("login")},color:"primary"},"login"))))},Oe=a(209),Ee=a(210),je=a(197),ve=a(202),ye=a(203),Ce=a(198),ze=a(97),Ae=a.n(ze),xe=a(98),we=a.n(xe),De=Object(l.a)((function(e){return{link:{cursor:"pointer",fontSize:"16px"},errorWarning:{color:e.palette.error.main}}})),Se=function(e){var t=e.authDialogOpen,a=e.handleToggle,i=e.authAction,c=e.handleDialogAction,o=De(),l=Object(n.useContext)(N),s=l.login,m=l.authErrors,d=l.setErrors,p=l.loggingIn,g=l.register,h=l.registering,b=Object(n.useState)({name:"",email:"",password:"",showPassword:!1}),E=Object(u.a)(b,2),j=E[0],v=E[1],y=function(e){v(Object(z.a)(Object(z.a)({},j),{},Object(ne.a)({},e.target.name,e.target.value)))};return r.a.createElement(re.a,{open:t,onClose:a},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),"login"!==i?"register"!==i||g(j.name,j.email,j.password,[a,function(){return v(Object(z.a)(Object(z.a)({},j),{},{name:"",email:"",password:""}))}]):s(j.email,j.password,[a,function(){return v(Object(z.a)(Object(z.a)({},j),{},{email:"",password:""}))}])},noValidate:!0},r.a.createElement(ce.a,null,i),r.a.createElement(ie.a,null,m?r.a.createElement(oe.a,{className:o.errorWarning},m.data.message):r.a.createElement(oe.a,null,"login"===i?"Type in your email and password":"Type in your name, email and password"),"login"===i?r.a.createElement(se.a,{autoFocus:!0,margin:"dense",name:"email",label:"email",type:"email",fullWidth:!0,required:!0,onChange:y,error:!!m&&!!m.data.errors.email,helperText:m?m.data.errors.email:null,disabled:p||h}):r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{autoFocus:!0,margin:"dense",name:"name",label:"name",type:"text",fullWidth:!0,required:!0,onChange:y,error:!!m&&!!m.data.errors.name,helperText:m?m.data.errors.name:null,disabled:p||h}),r.a.createElement(se.a,{margin:"dense",name:"email",label:"email",type:"email",fullWidth:!0,required:!0,onChange:y,error:!!m&&!!m.data.errors.email,helperText:m?m.data.errors.email:null,disabled:p||h})),r.a.createElement(Oe.a,{fullWidth:!0,required:!0,error:!!m&&!!m.data.errors.password,disabled:p||h},r.a.createElement(Ee.a,{htmlFor:"password"},"password"),r.a.createElement(je.a,{id:"password",type:j.showPassword?"text":"password",value:j.password,name:"password",onChange:y,endAdornment:r.a.createElement(ve.a,{position:"end"},r.a.createElement(O.a,{"aria-label":"toggle password visibility",onClick:function(){v(Object(z.a)(Object(z.a)({},j),{},{showPassword:!j.showPassword}))}},j.showPassword?r.a.createElement(Ae.a,null):r.a.createElement(we.a,null)))}),m?r.a.createElement(Ce.a,{className:o.errorWarning},m.data.errors.password):null)),r.a.createElement(le.a,null,r.a.createElement(f.a,{onClick:function(){return d(null,[a])},color:"primary",disabled:p||h},"Cancel"),r.a.createElement(f.a,{variant:"contained",color:"primary",type:"submit",disabled:p||h},i)),r.a.createElement(ie.a,null,"login"===i?r.a.createElement(oe.a,null,"Don't have an account? ",r.a.createElement(ye.a,{onClick:function(e){return c(e,"register",d(null))},className:o.link,component:"button",disabled:p||h},"Register")):r.a.createElement(oe.a,null,"Have an account? ",r.a.createElement(ye.a,{onClick:function(e){return c(e,"login",d(null))},className:o.link,component:"button",disabled:p||h},"Login")))),p||h?r.a.createElement(ue.a,null):null)},ke=Object(l.a)((function(e){return{container:{width:"100%",height:"100%",textAlign:"center","& > h6":{margin:e.spacing(4)}},img:{height:110,width:110,objectFit:"cover"},table:{"& > tbody > tr > td:last-child":{display:"block",marginLeft:e.spacing(1)}},actions:{flexDirection:"column",alignItems:"flex-end","& > .total-price":{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(1)},"& > .action-buttons > button":{marginLeft:e.spacing(1)}}}})),Te=function(e){var t=e.open,a=e.handleToggle,i=Object(n.useContext)(N).authenticatedUser,c=ke(),o=Object(d.f)(),l=i?F(i.shoppingCart):0;return r.a.createElement(re.a,{open:t,onClose:a,scroll:"paper"},i?i.shoppingCart.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null,"Shopping Cart"),r.a.createElement(ie.a,{dividers:!0},r.a.createElement("table",{className:c.table},r.a.createElement("tbody",null,i.shoppingCart.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("img",{src:V.a,alt:e.pizza.name,className:c.img})),r.a.createElement("td",null,r.a.createElement(b.a,{variant:"body1"},e.pizza.name),r.a.createElement(b.a,{variant:"body1"},"quantity: ".concat(e.pizza_quantity)),r.a.createElement(b.a,{variant:"body1"},"$".concat((e.pizza.price*e.pizza_quantity).toFixed(2)," / \xa3").concat((.91*e.pizza.price*e.pizza_quantity).toFixed(2)))))})))))):r.a.createElement("div",{className:c.container},r.a.createElement(b.a,{variant:"h6"},"Your cart is empty")):null,r.a.createElement(le.a,{className:c.actions},i&&i.shoppingCart.length>0?r.a.createElement("div",{className:"total-price"},r.a.createElement(b.a,{variant:"subtitle1"},"Total Price"),r.a.createElement(b.a,{variant:"h6"},"$".concat(l.toFixed(2)," / \xa3").concat((.91*l).toFixed(2)))):null,r.a.createElement("div",{className:"action-buttons"},r.a.createElement(f.a,{onClick:a},"Close"),i&&i.shoppingCart.length>0?r.a.createElement(f.a,{variant:"contained",color:"primary",to:"/order",onClick:function(){a(),o.push("/order")}},"Check Out"):null)))},Ie=Object(l.a)((function(e){return{container:{marginTop:e.spacing(3),height:"89%"}}})),Fe=function(){var e=Ie(),t=Object(n.useState)({shoppingCartDialog:!1}),a=Object(u.a)(t,2),i=a[0],c=a[1],o=Object(n.useContext)(N),l=o.authDialogOpen,s=o.handleAuthDialogToggle,g=o.authAction,h=o.handleAuthDialogAction,b=o.fetchAuthenticatedUser,f=o.initialUserLoad,O=function(){c({shoppingCartDialog:!i.shoppingCartDialog})};return Object(n.useEffect)((function(){b()}),[b]),r.a.createElement(m.a,null,r.a.createElement(U,{shoppingCartDialogToggle:O}),r.a.createElement(p.a,{className:e.container},f?r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:pe}),r.a.createElement(d.a,{path:"/order",component:fe})):r.a.createElement(ae,null)),r.a.createElement(Se,{authDialogOpen:l,handleToggle:s,authAction:g,handleDialogAction:h}),r.a.createElement(Te,{open:i.shoppingCartDialog,handleToggle:O}))},Ne=Object(l.a)((function(e){return{app:{height:"100%"}}}));var Pe=function(){var e=Ne();return r.a.createElement("div",{className:Object(o.a)("App",e.app)},r.a.createElement(P,null,r.a.createElement(ee,null,r.a.createElement(he,null,r.a.createElement(K,null,r.a.createElement(s.a,null),r.a.createElement(Fe,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){e.exports=a.p+"static/media/pizza-clipart-2.da13e6e5.png"}},[[116,1,2]]]);
//# sourceMappingURL=main.eb9f807d.chunk.js.map