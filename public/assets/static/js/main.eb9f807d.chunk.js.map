{"version":3,"sources":["utils/variables.js","utils/functions.js","contexts/AuthContext.js","components/layout/Navbar.js","contexts/ShoppingCartContext.js","components/layout/PizzaCard.js","contexts/PizzasContext.js","components/layout/ProgressComponent.js","components/layout/Dialogs/AddToCartDialog.js","components/pages/PizzaPage/PizzaPage.js","contexts/OrderContext.js","components/pages/OrderPage/OrderPage.js","components/layout/Dialogs/AuthDialog.js","components/layout/Dialogs/ShoppingCartDialog.js","components/layout/Layout.js","App.js","serviceWorker.js","index.js","images/pizza-clipart-2.png"],"names":["apiUrl","handleCallbacks","callbacks","Array","isArray","forEach","callback","totalPrice","shoppingCart","returningPrice","item","pizza","price","pizza_quantity","AuthContext","createContext","AuthContextProvider","state","initialUserLoad","isAuthenticated","authenticatedUser","authErrors","loggingIn","registering","authDialogOpen","authAction","postAuthAction","login","email","password","setState","axios","post","headers","Accept","then","res","localStorage","setItem","data","access_token","user","catch","err","response","register","name","fetchAuthenticatedUser","get","Authorization","getItem","status","logout","clear","setErrors","errors","handleAuthDialogOpen","handleAuthDialogToggle","handleAuthDialogAction","event","preventDefault","updateOrderDetails","pendingOrder","Provider","value","this","props","children","Component","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","color","textDecoration","Navbar","shoppingCartDialogToggle","classes","useContext","className","AppBar","position","Toolbar","Typography","variant","component","Link","to","IconButton","onClick","Badge","badgeContent","length","style","Button","CircularProgress","size","ShoppingCartContext","ShoppingCartContextProvider","addToCartDialogOpen","addingShoppingCartItem","getShoppingCart","console","log","setItemToShoppingCart","postItem","pizza_id","updateOrder","handleAddToCartDialogToggle","height","display","flexDirection","media","cardActionArea","marginBottom","PizzaCard","handlePizzaSelection","Card","CardActionArea","CardMedia","image","pizzaClipArt","CardContent","gutterBottom","description","toFixed","CardActions","PizzasContext","PizzasContextProvider","getPizzas","a","pizzas","progressDiv","alignItems","justifyContent","progressPlacement","transform","textAlign","h4","marginTop","ProgressComponent","message","img","width","objectFit","dialogContentText","margin","AddToCartDialog","open","handleToggle","useState","quantity","Dialog","onClose","noValidate","onSubmit","id","DialogTitle","DialogContent","DialogContentText","src","alt","TextField","label","type","fullWidth","required","disabled","helperText","onChange","target","DialogActions","LinearProgress","PizzaPage","selectedPizza","useEffect","document","fetchPizzas","Grid","container","direction","justify","map","key","xs","sm","md","OrderContext","OrderContextProvider","checkingOut","checkout","orderId","put","checked_out","maxWidthHeight","maxWidth","loginDiv","card","actions","marginLeft","OrderPage","history","useHistory","_totalPrice","PizzaClipArt","clsx","push","link","cursor","fontSize","errorWarning","palette","error","main","AuthDialog","handleDialogAction","showPassword","handleChange","autoFocus","FormControl","InputLabel","htmlFor","Input","endAdornment","InputAdornment","aria-label","FormHelperText","table","ShoppingCartDialog","scroll","dividers","Layout","shoppingCartDialog","Container","exact","path","app","App","CssBaseline","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.eb9f807d.chunk.js","sourcesContent":["export const localStorageTokenKey = 'ympz_token'\r\nexport const apiUrl = 'https://young-peak-99674.herokuapp.com/api'\r\n","export const handleCallbacks = (callbacks) => {\r\n  if (Array.isArray(callbacks)) callbacks.forEach(callback => callback())\r\n}\r\n\r\nexport const totalPrice = (shoppingCart = []) => {\r\n  let returningPrice = 0\r\n\r\n  shoppingCart.forEach(item => {\r\n    returningPrice += item.pizza.price * item.pizza_quantity\r\n  })\r\n\r\n  return returningPrice\r\n}\r\n","import React, { Component, createContext } from 'react';\r\nimport axios from 'axios'\r\nimport { localStorageTokenKey, apiUrl } from '../utils/variables'\r\nimport { handleCallbacks } from '../utils/functions'\r\n\r\nexport const AuthContext = createContext(null);\r\n\r\nclass AuthContextProvider extends Component {\r\n  state = {\r\n    initialUserLoad: false,\r\n    isAuthenticated: false,\r\n    authenticatedUser: null,\r\n    authErrors: null,\r\n    loggingIn: false,\r\n    registering: false,\r\n    authDialogOpen: false,\r\n    authAction: null,\r\n    postAuthAction: []\r\n  }\r\n\r\n  login = (email, password, callbacks) => {\r\n    this.setState({\r\n      ...this.state,\r\n      loggingIn: true\r\n    })\r\n    axios\r\n      .post(\r\n        `${apiUrl}/login`,\r\n        { email, password },\r\n        {\r\n          headers: {\r\n            Accept: 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then(res => {\r\n        localStorage.setItem(localStorageTokenKey, res.data.access_token)\r\n        this.setState({\r\n          ...this.state,\r\n          isAuthenticated: true,\r\n          loggingIn: false,\r\n          authenticatedUser: res.data.user\r\n        })\r\n        handleCallbacks([...callbacks, ...this.state.postAuthAction])\r\n        this.setState({\r\n          ...this.state,\r\n          postAuthAction: []\r\n        })\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          ...this.state,\r\n          authErrors: err.response,\r\n          loggingIn: false\r\n        })\r\n      })\r\n  }\r\n\r\n  register = (name, email, password, callbacks) => {\r\n    this.setState({\r\n      ...this.state,\r\n      registering: true\r\n    })\r\n    axios\r\n      .post(\r\n        `${apiUrl}/register`,\r\n        { name, email, password },\r\n        {\r\n          headers: {\r\n            Accept: 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then(res => {\r\n        localStorage.setItem(localStorageTokenKey, res.data.access_token)\r\n        this.setState({\r\n          ...this.state,\r\n          isAuthenticated: true,\r\n          registering: false,\r\n          authenticatedUser: res.data.user\r\n        })\r\n        handleCallbacks(callbacks)\r\n        this.fetchAuthenticatedUser()\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          ...this.state,\r\n          authErrors: err.response,\r\n          registering: false\r\n        })\r\n      })\r\n  }\r\n\r\n  fetchAuthenticatedUser = () => {\r\n    axios\r\n      .get(\r\n        `${apiUrl}/udft`,\r\n        {\r\n          headers: {\r\n            Authorization: `bearer ${localStorage.getItem(localStorageTokenKey)}`,\r\n            Accept: 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then(res => {\r\n        this.setState({\r\n          ...this.state,\r\n          authenticatedUser: res.data,\r\n          isAuthenticated: true,\r\n          initialUserLoad: true\r\n        })\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          ...this.state,\r\n          initialUserLoad: true\r\n        })\r\n\r\n        if (err.response.status === 401)\r\n          this.setState({\r\n            ...this.state,\r\n            authenticatedUser: null,\r\n            isAuthenticated: false,\r\n            initialUserLoad: true\r\n          })\r\n      })\r\n  }\r\n\r\n  logout = () => {\r\n    localStorage.clear()\r\n    this.setState({\r\n      ...this.state,\r\n      authenticatedUser: null,\r\n      isAuthenticated: false,\r\n      authErrors: null\r\n    })\r\n  }\r\n\r\n  setErrors = (errors, callbacks) => {\r\n    this.setState({\r\n      ...this.state,\r\n      authErrors: errors\r\n    })\r\n\r\n    handleCallbacks(callbacks)\r\n  }\r\n\r\n  handleAuthDialogOpen = (authAction, postAuthAction = []) => {\r\n    this.setState({\r\n      ...this.state,\r\n      authDialogOpen: true,\r\n      authAction: authAction ? authAction : this.state.authAction,\r\n      postAuthAction: [...this.state.postAuthAction, ...postAuthAction]\r\n    })\r\n  }\r\n\r\n  handleAuthDialogToggle = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      authDialogOpen: this.state.loggingIn || this.state.registering ? true : !this.state.authDialogOpen,\r\n      authErrors: null\r\n    })\r\n  }\r\n\r\n  handleAuthDialogAction = (event, authAction, callbacks) => {\r\n    event.preventDefault()\r\n    this.setState({\r\n      ...this.state,\r\n      authAction,\r\n      authErrors: null\r\n    })\r\n    this.handleCallbacks(callbacks)\r\n  }\r\n\r\n  handleCallbacks = (callbacks) => {\r\n    if (Array.isArray(callbacks)) callbacks.forEach(callback => callback())\r\n  }\r\n\r\n  updateOrderDetails = (pendingOrder, shoppingCart) => {\r\n    this.setState({\r\n      ...this.state,\r\n      authenticatedUser: {\r\n        ...this.state.authenticatedUser,\r\n        pendingOrder,\r\n        shoppingCart\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <AuthContext.Provider\r\n        value={{\r\n          ...this.state,\r\n          login: this.login,\r\n          fetchAuthenticatedUser: this.fetchAuthenticatedUser,\r\n          setErrors: this.setErrors,\r\n          logout: this.logout,\r\n          register: this.register,\r\n          handleAuthDialogOpen: this.handleAuthDialogOpen,\r\n          handleAuthDialogToggle: this.handleAuthDialogToggle,\r\n          handleAuthDialogAction: this.handleAuthDialogAction,\r\n          updateOrderDetails: this.updateOrderDetails\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </AuthContext.Provider>\r\n    );\r\n  }\r\n}\r\n \r\nexport default AuthContextProvider;\r\n","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Badge from '@material-ui/core/Badge'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart'\r\nimport { AuthContext } from '../../contexts/AuthContext'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    color: 'white',\r\n    textDecoration: 'none'\r\n  },\r\n}))\r\n\r\nexport default function Navbar({ shoppingCartDialogToggle }) {\r\n  const classes = useStyles()\r\n  const {\r\n    isAuthenticated,\r\n    //fetchAuthenticatedUser,\r\n    initialUserLoad,\r\n    logout,\r\n    handleAuthDialogOpen,\r\n    authenticatedUser\r\n  } = useContext(AuthContext)\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\">\r\n          <Toolbar>\r\n            <Typography variant=\"h6\" className={classes.title} component={Link} to=\"/\">\r\n              Yummi Pizza\r\n            </Typography>\r\n            {\r\n              initialUserLoad\r\n                ? isAuthenticated\r\n                  ? <>\r\n                      <IconButton onClick={shoppingCartDialogToggle}>\r\n                        <Badge\r\n                          badgeContent={\r\n                            authenticatedUser ? authenticatedUser.shoppingCart.length : 0\r\n                          }\r\n                          color=\"secondary\"\r\n                        >\r\n                          <ShoppingCartIcon style={{ color: '#ffffff' }}/>\r\n                        </Badge>\r\n                      </IconButton>\r\n                      <Button color=\"inherit\" onClick={logout}>logout</Button>\r\n                    </>\r\n                  : <>\r\n                      <Button color=\"inherit\" onClick={() => handleAuthDialogOpen('login')}>Login</Button>\r\n                      <Button color=\"inherit\" onClick={() => handleAuthDialogOpen('register')}>Register</Button>\r\n                    </>\r\n                : <CircularProgress color=\"secondary\" size={25}></CircularProgress>\r\n            }\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    </>\r\n  )\r\n}","import React, { Component, createContext } from 'react'\r\nimport axios from 'axios'\r\nimport { localStorageTokenKey, apiUrl } from '../utils/variables'\r\nimport { handleCallbacks } from '../utils/functions'\r\n\r\nexport const ShoppingCartContext = createContext(null)\r\n\r\nclass ShoppingCartContextProvider extends Component {\r\n  state = {\r\n    addToCartDialogOpen: false,\r\n    addingShoppingCartItem: false\r\n  }\r\n\r\n  getShoppingCart = () => {\r\n    console.log('getting shopping cart')\r\n  }\r\n\r\n  setItemToShoppingCart = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      addToCartDialogOpen: true\r\n    })\r\n  }\r\n\r\n  postItem = (pizza_id, pizza_quantity, updateOrder, callbacks) => {\r\n    this.setState({\r\n      ...this.state,\r\n      addingShoppingCartItem: true\r\n    })\r\n    axios\r\n      .post(\r\n        `${apiUrl}/shopping-cart-item`,\r\n        { pizza_id, pizza_quantity },\r\n        {\r\n          headers: {\r\n            Authorization: `bearer ${localStorage.getItem(localStorageTokenKey)}`,\r\n            Accept: 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then(res => {\r\n        console.log({res})\r\n        updateOrder(res.data.pendingOrder, res.data.shoppingCart)\r\n        handleCallbacks(callbacks)\r\n        this.setState({\r\n          ...this.state,\r\n          addingShoppingCartItem: false,\r\n          addToCartDialogOpen: false,\r\n        })\r\n      })\r\n      .catch(err => {\r\n        console.log({err})\r\n        this.setState({\r\n          ...this.state,\r\n          addingShoppingCartItem: false\r\n        })\r\n      })\r\n  }\r\n\r\n  handleAddToCartDialogToggle = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      addToCartDialogOpen: this.state.addingShoppingCartItem ? true : !this.state.addToCartDialogOpen\r\n    })\r\n    console.log(this.state)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ShoppingCartContext.Provider\r\n        value={{\r\n          ...this.state,\r\n          getShoppingCart: this.getShoppingCart,\r\n          setItemToShoppingCart: this.setItemToShoppingCart,\r\n          handleAddToCartDialogToggle: this.handleAddToCartDialogToggle,\r\n          postItem: this.postItem\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </ShoppingCartContext.Provider>\r\n    );\r\n  }\r\n}\r\n \r\nexport default ShoppingCartContextProvider;\r\n","import React, { useContext } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport pizzaClipArt from '../../images/pizza-clipart-2.png'\r\nimport { AuthContext } from '../../contexts/AuthContext'\r\nimport { ShoppingCartContext } from '../../contexts/ShoppingCartContext'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column'\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n  cardActionArea: {\r\n    marginBottom: 'auto'\r\n  }\r\n})\r\n\r\nconst PizzaCard = ({ pizza, handlePizzaSelection }) => {\r\n  const classes = useStyles()\r\n  const { isAuthenticated, handleAuthDialogOpen } = useContext(AuthContext)\r\n  const { setItemToShoppingCart } = useContext(ShoppingCartContext)\r\n\r\n  const handleAddToCart = () => {\r\n    handlePizzaSelection(pizza)\r\n    isAuthenticated\r\n      ? setItemToShoppingCart()\r\n      : handleAuthDialogOpen('login', [setItemToShoppingCart])\r\n  }\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea className={classes.cardActionArea}>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={pizzaClipArt}\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\">\r\n            {pizza.name}\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\" gutterBottom>\r\n            {pizza.description}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            ${pizza.price} / £{(pizza.price * 0.91).toFixed(2)}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button size=\"small\" color=\"primary\" onClick={handleAddToCart}>\r\n          Add to Cart\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n}\r\n \r\nexport default PizzaCard","import React, { Component, createContext } from 'react'\r\nimport axios from 'axios'\r\nimport { apiUrl } from '../utils/variables'\r\n\r\nexport const PizzasContext = createContext(null)\r\n\r\nclass PizzasContextProvider extends Component {\r\n  getPizzas = async () => {\r\n    let pizzas = null\r\n\r\n    await axios\r\n      .get(\r\n        `${apiUrl}/pizza`,\r\n        {\r\n          headers: {\r\n            Accept: 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then(async res => {\r\n        pizzas = res.data\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n\r\n    return pizzas\r\n  }\r\n\r\n  render() { \r\n    return (\r\n      <PizzasContext.Provider\r\n        value={{\r\n          getPizzas: this.getPizzas\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </PizzasContext.Provider>\r\n    );\r\n  }\r\n}\r\n \r\nexport default PizzasContextProvider;\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  progressDiv: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  progressPlacement: {\r\n    transform: 'translate(0px, -100px)',\r\n    textAlign: 'center'\r\n  },\r\n  h4: {\r\n    marginTop: theme.spacing(2)\r\n  }\r\n}))\r\n\r\nconst ProgressComponent = ({ message }) => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.progressDiv}>\r\n      <div className={classes.progressPlacement}>\r\n        <CircularProgress size={54}/>\r\n        <Typography variant=\"h4\" className={classes.h4}>{message ? message : 'loading'}...</Typography>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default ProgressComponent;\r\n","import React, { useState, useContext } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport pizzaClipArt from '../../../images/pizza-clipart-2.png'\r\nimport { ShoppingCartContext } from '../../../contexts/ShoppingCartContext'\r\nimport { AuthContext } from '../../../contexts/AuthContext'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  img: {\r\n    height: 265,\r\n    width: 400,\r\n    objectFit: 'cover'\r\n  },\r\n  dialogContentText: {\r\n    margin: 0\r\n  }\r\n}))\r\n\r\nconst AddToCartDialog = ({ pizza, open, handleToggle }) => {\r\n  const classes = useStyles()\r\n  const [state, setState] = useState({\r\n    quantity: 1\r\n  })\r\n  const { postItem, addingShoppingCartItem } = useContext(ShoppingCartContext)\r\n  const { updateOrderDetails } = useContext(AuthContext)\r\n\r\n  const handleChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    postItem(pizza.id, state.quantity, updateOrderDetails)\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleToggle}>\r\n      <form noValidate onSubmit={handleSubmit}>\r\n      <DialogTitle>{pizza.name}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText className={classes.dialogContentText}>\r\n            ${pizza.price} / £{(pizza.price * 0.91).toFixed(2)}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <img src={pizzaClipArt} alt={pizza.name} className={classes.img}/>\r\n        <DialogContent>\r\n          <div>\r\n            <TextField\r\n              margin=\"dense\"\r\n              name=\"quantity\"\r\n              label=\"quantity\"\r\n              type=\"number\"\r\n              fullWidth\r\n              required\r\n              value={state.quantity}\r\n              disabled={addingShoppingCartItem}\r\n              helperText={\r\n                `Amounting to: $${\r\n                  (pizza.price * (state.quantity ? state.quantity : 0)).toFixed(2)\r\n                } / £${\r\n                  ((pizza.price * 0.91) * (state.quantity ? state.quantity : 0)).toFixed(2)\r\n                }`\r\n              }\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={handleToggle}\r\n            color=\"primary\"\r\n            disabled={addingShoppingCartItem}\r\n          >Cancel</Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            disabled={addingShoppingCartItem}\r\n          >\r\n            Add\r\n          </Button>\r\n        </DialogActions>\r\n      </form>\r\n      {\r\n        addingShoppingCartItem ? <LinearProgress /> : null\r\n      }\r\n    </Dialog>\r\n  );\r\n}\r\n \r\nexport default AddToCartDialog;\r\n","import React, { useEffect, useContext, useState } from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport PizzaCard from '../../layout/PizzaCard'\r\nimport { AuthContext } from '../../../contexts/AuthContext'\r\nimport { PizzasContext } from '../../../contexts/PizzasContext'\r\nimport { ShoppingCartContext } from '../../../contexts/ShoppingCartContext'\r\nimport ProgressComponent from '../../layout/ProgressComponent'\r\nimport AddToCartDialog from '../../layout/Dialogs/AddToCartDialog'\r\n\r\nconst PizzaPage = () => {\r\n  const [state, setState] = useState({\r\n    pizzas: null,\r\n    addToCartDialogOpen: false,\r\n    selectedPizza: {}\r\n  })\r\n  const { authenticatedUser } = useContext(AuthContext)\r\n  const { getPizzas } = useContext(PizzasContext)\r\n  const { addToCartDialogOpen, handleAddToCartDialogToggle } = useContext(ShoppingCartContext)\r\n  useEffect(() => {\r\n    document.title = 'Yummi Pizza - Pizzas!'\r\n    async function fetchPizzas() {\r\n      setState({\r\n        ...state,\r\n        pizzas: await getPizzas()\r\n      })\r\n    }\r\n    fetchPizzas()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  const handlePizzaSelection = pizza => {\r\n    setState({\r\n      ...state,\r\n      selectedPizza: pizza\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {\r\n        authenticatedUser\r\n          ? <Typography variant=\"body1\">{authenticatedUser.name}</Typography>\r\n          : null\r\n      }\r\n      {\r\n        state.pizzas\r\n          ? <>\r\n              <Grid container direction=\"row\" justify=\"center\" spacing={2} alignItems=\"stretch\">\r\n                {\r\n                  state.pizzas.map(pizza => (\r\n                    <Grid key={pizza.id} xs={12} sm={4} md={3} item>\r\n                      <PizzaCard pizza={pizza} handlePizzaSelection={handlePizzaSelection}/>\r\n                    </Grid>\r\n                  ))\r\n                }\r\n              </Grid>\r\n              <AddToCartDialog\r\n                open={addToCartDialogOpen}\r\n                handleToggle={handleAddToCartDialogToggle}\r\n                pizza={state.selectedPizza}\r\n              />\r\n            </>\r\n          : <ProgressComponent message=\"getting pizzas\" />\r\n      }\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default PizzaPage\r\n","import React, { Component, createContext } from 'react'\r\nimport axios from 'axios'\r\nimport { handleCallbacks } from '../utils/functions'\r\nimport { localStorageTokenKey, apiUrl } from '../utils/variables'\r\n\r\nexport const OrderContext = createContext(null)\r\n\r\nclass OrderContextProvider extends Component {\r\n  state = {\r\n    checkingOut: false\r\n  }\r\n  checkout = (orderId, callbacks) => {\r\n    console.log({orderId})\r\n    this.setState({\r\n      checkingOut: true\r\n    })\r\n    axios\r\n      .put(\r\n        `${apiUrl}/order/${orderId}`,\r\n        { checked_out: 1 },\r\n        {\r\n          headers: {\r\n            Authorization: `bearer ${localStorage.getItem(localStorageTokenKey)}`,\r\n            Accept: 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then(res => {\r\n        this.setState({\r\n          checkingOut: false\r\n        })\r\n        handleCallbacks(callbacks)\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          checkingOut: false\r\n        })\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <OrderContext.Provider value={{\r\n        ...this.state,\r\n        checkout: this.checkout\r\n      }}>\r\n        {this.props.children}\r\n      </OrderContext.Provider>\r\n    )\r\n  }\r\n}\r\n \r\nexport default OrderContextProvider;\r\n","import React, { useContext, useEffect } from 'react'\r\nimport clsx from 'clsx'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { AuthContext } from '../../../contexts/AuthContext'\r\nimport { OrderContext } from '../../../contexts/OrderContext'\r\nimport PizzaClipArt from '../../../images/pizza-clipart-2.png'\r\nimport { totalPrice } from '../../../utils/functions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  maxWidthHeight: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  maxWidth: {\r\n    width: '100%',\r\n  },\r\n  loginDiv: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    '& > div': {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'center',\r\n      '& > button': {\r\n        margin: '16px auto'\r\n      }\r\n    }\r\n  },\r\n  card: {\r\n    display: 'flex'\r\n  },\r\n  image: {\r\n    width: 150,\r\n    height: 150,\r\n    objectFit: 'cover'\r\n  },\r\n  totalPrice: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: theme.spacing(1),\r\n    '& > h6': {\r\n      marginRight: theme.spacing(2)\r\n    }\r\n  },\r\n  actions: {\r\n    margin: theme.spacing(1, 0),\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    '& > button': {\r\n      marginLeft: theme.spacing(1)\r\n    }\r\n  }\r\n}))\r\n\r\nconst OrderPage = () => {\r\n  const {\r\n    authenticatedUser,\r\n    isAuthenticated,\r\n    initialUserLoad,\r\n    handleAuthDialogOpen,\r\n    updateOrderDetails\r\n  } = useContext(AuthContext)\r\n  const { checkout, checkingOut } = useContext(OrderContext)\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    if (initialUserLoad && !isAuthenticated) {\r\n      handleAuthDialogOpen('login')\r\n    }\r\n  }, [initialUserLoad, isAuthenticated, handleAuthDialogOpen])\r\n\r\n  const _totalPrice = authenticatedUser ? totalPrice(authenticatedUser.shoppingCart) : 0\r\n\r\n  return (\r\n    <>\r\n      {\r\n        isAuthenticated\r\n          ? <>\r\n              {\r\n                authenticatedUser\r\n                  ? <Typography variant=\"body1\">{authenticatedUser.name}</Typography>\r\n                  : null\r\n              }\r\n              <>\r\n                <div className={classes.totalPrice}>\r\n                  <Typography variant=\"subtitle1\">Total Price:</Typography>\r\n                  <Typography variant=\"h6\">\r\n                    {`$${_totalPrice.toFixed(2)} / £${(_totalPrice * 0.91).toFixed(2)}`}\r\n                  </Typography>\r\n                </div>\r\n                <Grid container spacing={2} className={classes.maxWidth}>\r\n                  {\r\n                    authenticatedUser.shoppingCart.map(item => (\r\n                      <Grid item xs={12} sm={6} key={item.id}>\r\n                        <Card className={classes.card}>\r\n                          <CardMedia className={classes.image} image={PizzaClipArt} />\r\n                          <CardContent>\r\n                            <Typography variant=\"subtitle1\">{item.pizza.name}</Typography>\r\n                              <Typography variant=\"subtitle1\">\r\n                                {`quantity: ${item.pizza_quantity}`}\r\n                              </Typography>\r\n                              <Typography variant=\"subtitle1\">\r\n                                {`$${\r\n                                  (item.pizza.price * item.pizza_quantity).toFixed(2)\r\n                                } / £${\r\n                                  (item.pizza.price * 0.91 * item.pizza_quantity).toFixed(2)\r\n                                }`}\r\n                              </Typography>\r\n                          </CardContent>\r\n                        </Card>\r\n                      </Grid>\r\n                    ))\r\n                  }\r\n                </Grid>\r\n                <div className={clsx(classes.maxWidth, classes.actions)}>\r\n                  {\r\n                    checkingOut\r\n                      ? <CircularProgress size={30}/>\r\n                      : null\r\n                  }\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    to=\"/order\"\r\n                    onClick={() => {\r\n                      checkout(\r\n                        authenticatedUser.pendingOrder[0].id,\r\n                        [\r\n                          () => updateOrderDetails([], []),\r\n                          () => history.push('/')\r\n                        ]\r\n                      )\r\n                    }}\r\n                    disabled={checkingOut}\r\n                  >\r\n                    Check Out\r\n                  </Button>\r\n                </div>\r\n              </>\r\n            </>\r\n          : <div className={clsx(classes.maxWidthHeight, classes.loginDiv)}>\r\n              <div>\r\n                <Typography variant=\"h4\">login to view your cart</Typography>\r\n                <Button\r\n                  variant='outlined'\r\n                  onClick={() => handleAuthDialogOpen('login')}\r\n                  color=\"primary\"\r\n                >login</Button>\r\n              </div>\r\n            </div>\r\n      }\r\n      \r\n    </>\r\n  );\r\n}\r\n \r\nexport default OrderPage;\r\n","import React, { useContext, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport Link from '@material-ui/core/Link'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Visibility from '@material-ui/icons/Visibility'\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'\r\nimport { AuthContext } from '../../../contexts/AuthContext'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return {\r\n    link: {\r\n      cursor: 'pointer',\r\n      fontSize: '16px'\r\n    },\r\n    errorWarning: {\r\n      color: theme.palette.error.main\r\n    }\r\n  }\r\n})\r\n\r\nconst AuthDialog = ({ authDialogOpen, handleToggle, authAction, handleDialogAction }) => {\r\n  const classes = useStyles()\r\n  const { login, authErrors, setErrors, loggingIn, register, registering } = useContext(AuthContext)\r\n  const [state, setState] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    showPassword: false\r\n  })\r\n\r\n  const handleChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  const handleClickShowPassword = () => {\r\n    setState({\r\n      ...state,\r\n      showPassword: !state.showPassword\r\n    })\r\n  }\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault()\r\n\r\n    if (authAction === 'login') {\r\n      login(\r\n        state.email,\r\n        state.password,\r\n        [\r\n          handleToggle,\r\n          () => setState({\r\n            ...state,\r\n            email: '',\r\n            password: ''\r\n          })\r\n        ]\r\n      )\r\n\r\n      return\r\n    }\r\n\r\n    if (authAction === 'register') {\r\n      register(\r\n        state.name,\r\n        state.email,\r\n        state.password,\r\n        [\r\n          handleToggle,\r\n          () => setState({\r\n            ...state,\r\n            name: '',\r\n            email: '',\r\n            password: ''\r\n          })\r\n        ]\r\n      )\r\n\r\n      return\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={authDialogOpen} onClose={handleToggle}>\r\n      <form onSubmit={handleSubmit} noValidate>\r\n        <DialogTitle>{authAction}</DialogTitle>\r\n        <DialogContent>\r\n          {\r\n            authErrors\r\n              ? <DialogContentText className={classes.errorWarning}>\r\n                  {authErrors.data.message}\r\n                </DialogContentText>\r\n              : <DialogContentText>\r\n                  {\r\n                    authAction === 'login'\r\n                      ? 'Type in your email and password'\r\n                      : 'Type in your name, email and password'\r\n                  }\r\n                </DialogContentText>\r\n          }\r\n          {\r\n            authAction === 'login'\r\n              ? <TextField\r\n                  autoFocus\r\n                  margin=\"dense\"\r\n                  name=\"email\"\r\n                  label=\"email\"\r\n                  type=\"email\"\r\n                  fullWidth\r\n                  required\r\n                  onChange={handleChange}\r\n                  error={\r\n                    authErrors\r\n                      ? authErrors.data.errors.email\r\n                        ? true\r\n                        : false\r\n                      : false\r\n                  }\r\n                  helperText={authErrors ? authErrors.data.errors.email : null}\r\n                  disabled={loggingIn || registering}\r\n                />\r\n              : <>\r\n                  <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    name=\"name\"\r\n                    label=\"name\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    required\r\n                    onChange={handleChange}\r\n                    error={\r\n                      authErrors\r\n                        ? authErrors.data.errors.name\r\n                          ? true\r\n                          : false\r\n                        : false\r\n                    }\r\n                    helperText={authErrors ? authErrors.data.errors.name : null}\r\n                    disabled={loggingIn || registering}\r\n                    />\r\n                  <TextField\r\n                    margin=\"dense\"\r\n                    name=\"email\"\r\n                    label=\"email\"\r\n                    type=\"email\"\r\n                    fullWidth\r\n                    required\r\n                    onChange={handleChange}\r\n                    error={\r\n                      authErrors\r\n                        ? authErrors.data.errors.email\r\n                          ? true\r\n                          : false\r\n                        : false\r\n                    }\r\n                    helperText={authErrors ? authErrors.data.errors.email : null}\r\n                    disabled={loggingIn || registering}\r\n                  />\r\n                </>\r\n              \r\n          }\r\n          <FormControl\r\n            fullWidth\r\n            required\r\n            error={\r\n              authErrors\r\n                ? authErrors.data.errors.password\r\n                  ? true\r\n                  : false\r\n                : false\r\n            }\r\n            disabled={loggingIn || registering}\r\n          >\r\n            <InputLabel htmlFor=\"password\">password</InputLabel>\r\n            <Input\r\n              id=\"password\"\r\n              type={state.showPassword ? 'text' : 'password'}\r\n              value={state.password}\r\n              name=\"password\"\r\n              onChange={handleChange}\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={handleClickShowPassword}\r\n                  >\r\n                    {state.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n                }\r\n            />\r\n            {\r\n              authErrors\r\n                ? <FormHelperText className={classes.errorWarning}>\r\n                    {authErrors.data.errors.password}\r\n                  </FormHelperText>\r\n                : null\r\n            }\r\n          </FormControl>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => setErrors(null, [handleToggle])}\r\n            color=\"primary\"\r\n            disabled={loggingIn || registering}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={loggingIn || registering}>\r\n            {authAction}\r\n          </Button>\r\n        </DialogActions>\r\n        <DialogContent>\r\n        {\r\n          authAction === 'login'\r\n            ? <DialogContentText>\r\n                {`Don't have an account? `}\r\n                <Link\r\n                  onClick={event => handleDialogAction(event, 'register', setErrors(null))}\r\n                  className={classes.link}\r\n                  component=\"button\"\r\n                  disabled={loggingIn || registering}\r\n                >\r\n                  Register\r\n                </Link>\r\n              </DialogContentText>\r\n            : <DialogContentText>\r\n                {`Have an account? `}\r\n                <Link\r\n                  onClick={event => handleDialogAction(event, 'login', setErrors(null))}\r\n                  className={classes.link}\r\n                  component=\"button\"\r\n                  disabled={loggingIn || registering}\r\n                >\r\n                  Login\r\n                </Link>\r\n              </DialogContentText>\r\n        }\r\n        </DialogContent>\r\n      </form>\r\n      {\r\n        loggingIn || registering ? <LinearProgress /> : null\r\n      }\r\n    </Dialog>\r\n  )\r\n}\r\n \r\nexport default AuthDialog\r\n","import React, { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { AuthContext } from '../../../contexts/AuthContext'\r\nimport pizzaClipArt from '../../../images/pizza-clipart-2.png'\r\nimport { totalPrice } from '../../../utils/functions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    width: '100%',\r\n    height: '100%',\r\n    textAlign: 'center',\r\n    '& > h6': {\r\n      margin: theme.spacing(4)\r\n    }\r\n  },\r\n  img: {\r\n    height: 110,\r\n    width: 110,\r\n    objectFit: 'cover'\r\n  },\r\n  table: {\r\n    '& > tbody > tr > td:last-child': {\r\n      display: 'block',\r\n      marginLeft: theme.spacing(1)\r\n    }\r\n  },\r\n  actions: {\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-end',\r\n    '& > .total-price': {\r\n      width: '100%',\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      marginBottom: theme.spacing(1)\r\n    },\r\n    '& > .action-buttons > button': {\r\n      marginLeft: theme.spacing(1)\r\n    }\r\n  }\r\n}))\r\n\r\nconst ShoppingCartDialog = ({ open, handleToggle }) => {\r\n  const { authenticatedUser } = useContext(AuthContext)\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const _totalPrice = authenticatedUser ? totalPrice(authenticatedUser.shoppingCart) : 0\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleToggle} scroll='paper'>\r\n      {\r\n        authenticatedUser\r\n          ? authenticatedUser.shoppingCart.length > 0\r\n            ? <>\r\n                <DialogTitle>Shopping Cart</DialogTitle>\r\n                <DialogContent dividers>\r\n                  <table className={classes.table}>\r\n                    <tbody>\r\n                      {\r\n                        authenticatedUser.shoppingCart.map(item => (\r\n                          <tr key={item.id}>\r\n                            <td>\r\n                              <img src={pizzaClipArt} alt={item.pizza.name} className={classes.img}/>\r\n                            </td>\r\n                            <td>\r\n                              <Typography variant='body1'>\r\n                                {item.pizza.name}\r\n                              </Typography>\r\n                              <Typography variant='body1'>\r\n                                {`quantity: ${item.pizza_quantity}`}\r\n                              </Typography>\r\n                              <Typography variant='body1'>\r\n                                {`$${\r\n                                  (item.pizza.price * item.pizza_quantity).toFixed(2)\r\n                                } / £${\r\n                                  (item.pizza.price * 0.91 * item.pizza_quantity).toFixed(2)\r\n                                }`}\r\n                              </Typography>\r\n                            </td>\r\n                          </tr>\r\n                        ))\r\n                      }\r\n                    </tbody>\r\n                  </table>\r\n                </DialogContent>\r\n              </>\r\n            : <div className={classes.container}>\r\n                <Typography variant=\"h6\">Your cart is empty</Typography>\r\n              </div>\r\n          : null\r\n      }\r\n      <DialogActions className={classes.actions}>\r\n        {\r\n          authenticatedUser\r\n          ? authenticatedUser.shoppingCart.length > 0\r\n            ? <div className=\"total-price\">\r\n                <Typography variant=\"subtitle1\">Total Price</Typography>\r\n                <Typography variant=\"h6\">\r\n                  {`$${_totalPrice.toFixed(2)} / £${(_totalPrice * 0.91).toFixed(2)}`}\r\n                </Typography>\r\n              </div>\r\n            : null\r\n          : null\r\n        }\r\n        <div className='action-buttons'>\r\n          <Button onClick={handleToggle}>Close</Button>\r\n          {\r\n            authenticatedUser\r\n              ? authenticatedUser.shoppingCart.length > 0\r\n                ? <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    to=\"/order\"\r\n                    onClick={() => {\r\n                      handleToggle()\r\n                      history.push('/order')\r\n                    }}\r\n                  >\r\n                    Check Out\r\n                  </Button>\r\n                : null\r\n              : null\r\n          }\r\n        </div>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n \r\nexport default ShoppingCartDialog;\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Container } from '@material-ui/core'\r\nimport NavBar from './Navbar.js'\r\nimport PizzaPage from '../pages/PizzaPage/PizzaPage'\r\nimport OrderPage from '../pages/OrderPage/OrderPage'\r\nimport AuthDialog from './Dialogs/AuthDialog'\r\nimport ShoppingCartDialog from './Dialogs/ShoppingCartDialog'\r\nimport { AuthContext } from '../../contexts/AuthContext'\r\nimport ProgressComponent from './ProgressComponent'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    marginTop: theme.spacing(3),\r\n    height: '89%'\r\n  }\r\n}))\r\n\r\nconst Layout = () => {\r\n  const classes = useStyles()\r\n  const [state, setState] = useState({\r\n    shoppingCartDialog: false\r\n  })\r\n  const {\r\n    authDialogOpen,\r\n    handleAuthDialogToggle,\r\n    authAction,\r\n    handleAuthDialogAction,\r\n    fetchAuthenticatedUser,\r\n    initialUserLoad\r\n  } = useContext(AuthContext)\r\n\r\n  const handleToggle = () => {\r\n    setState({\r\n      shoppingCartDialog: !state.shoppingCartDialog\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchAuthenticatedUser()\r\n  }, [fetchAuthenticatedUser])\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <NavBar shoppingCartDialogToggle={handleToggle}/>\r\n      <Container className={classes.container}>\r\n        {\r\n          initialUserLoad\r\n            ? <Switch>\r\n                <Route exact path=\"/\" component={PizzaPage}/>\r\n                <Route path=\"/order\" component={OrderPage}/>\r\n              </Switch>\r\n            : <ProgressComponent />\r\n        }\r\n      </Container>\r\n      <AuthDialog\r\n        authDialogOpen={authDialogOpen}\r\n        handleToggle={handleAuthDialogToggle}\r\n        authAction={authAction}\r\n        handleDialogAction={handleAuthDialogAction}\r\n      />\r\n      <ShoppingCartDialog\r\n        open={state.shoppingCartDialog}\r\n        handleToggle={handleToggle}\r\n      />\r\n    </BrowserRouter>\r\n  )\r\n}\r\n \r\nexport default Layout\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport Layout from './components/layout/Layout'\r\nimport AuthContextProvider from './contexts/AuthContext'\r\nimport PizzasContextProvider from './contexts/PizzasContext'\r\nimport ShoppingCartContextProvider from './contexts/ShoppingCartContext'\r\nimport OrderContextProvider from './contexts/OrderContext'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  app: {\r\n    height: '100%'\r\n  }\r\n}))\r\n\r\nfunction App() {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={clsx('App', classes.app)}>\r\n      <AuthContextProvider>\r\n        <PizzasContextProvider>\r\n          <OrderContextProvider>\r\n            <ShoppingCartContextProvider>\r\n              <CssBaseline />\r\n              <Layout />\r\n            </ShoppingCartContextProvider>\r\n          </OrderContextProvider>\r\n        </PizzasContextProvider>\r\n      </AuthContextProvider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/pizza-clipart-2.da13e6e5.png\";"],"sourceRoot":""}